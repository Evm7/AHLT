RESULTS
[10/05] : Best results by adding words_in_between feature:
|       TRAIN     | fp   | fn  | #pred | #exp | P    | R     | F1    | F1    |
|-----------------|------|-----|-------|------|------|-------|-------|-------|
|                 |      |     |       |      |      |       |       |       |
| advise          | 538  | 63  | 159   | 601  | 697  | 89.5% | 77.2% | 82.9% |
| effect          | 1195 | 112 | 255   | 1307 | 1450 | 91.4% | 82.4% | 86.7% |
| int             | 188  | 17  | 43    | 205  | 231  | 91.7% | 81.4% | 86.2% |
| mechanism       | 761  | 86  | 259   | 847  | 1020 | 89.8% | 74.6% | 81.5% |
|                 | -    | -   | -     | -    | -    | 57.5% | 34.0% | 41.3% |
| M.avg           | -    | -   | -     | -    | -    | 90.6% | 78.9% | 84.3% |
|                 | 350  | 250 | 500   | 600  | 850  | 58.3% | 41.2% | 48.3% |
| m.avg           | 2682 | 278 | 716   | 2960 | 3398 | 90.6% | 78.9% | 84.4% |
| m.avg(no class) | 2799 | 161 | 599   | 2960 | 3398 | 94.6% | 82.4% | 88.0% |


|      DEVEL      | fp  | fn  | #pred | #exp | P   | R     | F1    | F1    |
|-----------------|-----|-----|-------|------|-----|-------|-------|-------|
|                 |     |     |       |      |     |       |       |       |
| advise          | 56  | 140 | 82    | 196  | 138 | 28.6% | 40.6% | 33.5% |
| effect          | 135 | 65  | 180   | 200  | 315 | 67.5% | 42.9% | 52.4% |
| int             | 20  | 4   | 15    | 24   | 35  | 83.3% | 57.1% | 67.8% |
| mechanism       | 99  | 74  | 165   | 173  | 264 | 57.2% | 37.5% | 45.3% |
|                 | -   | -   | -     | -    | -   | 57.5% | 34.0% | 41.3% |
| M.avg           | -   | -   | -     | -    | -   | 59.2% | 44.5% | 49.8% |
|                 | 350 | 250 | 500   | 600  | 850 | 58.3% | 41.2% | 48.3% |
| m.avg           | 310 | 283 | 442   | 593  | 752 | 52.3% | 41.2% | 46.1% |
| m.avg(no class) | 373 | 220 | 379   | 593  | 752 | 62.9% | 49.6% | 55.5% |


|       TEST      | tp  | fp  | fn  | #pred | #exp | P     | R     | F1    |
|-----------------|-----|-----|-----|-------|------|-------|-------|-------|
|                 |     |     |     |       |      |       |       |       |
| advise          | 82  | 41  | 130 | 123   | 212  | 66.7% | 38.7% | 49.0% |
| effect          | 129 | 84  | 154 | 213   | 283  | 60.6% | 45.6% | 52.0% |
| mechanism       | 137 | 123 | 200 | 260   | 337  | 52.7% | 40.7% | 45.9% |
|                 |     |     |     |       |      |       |       |       |
| M.avg           | -   | -   | -   | -     | -    | 57.5% | 34.0% | 41.3% |
|                 |     |     |     |       |      |       |       |       |
| m.avg           | 350 | 250 | 500 | 600   | 850  | 58.3% | 41.2% | 48.3% |
| m.avg(no class) | 414 | 186 | 436 | 600   | 850  | 69.0% | 48.7% | 57.1% |
|                 |     |     |     |       |      |       |       |       |


[10/05] : Best results by adding the type of DDI:

|      TRAIN      	|  tp  	|  fp 	|  fn  	| #pred 	| #exp 	|   P   	|   R   	|   F1  	|
|:---------------:	|:----:	|:---:	|:----:	|:-----:	|:----:	|:-----:	|:-----:	|:-----:	|
|        -        	|   -  	|  -  	|   -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      advise     	|  444 	| 107 	|  253 	|  551  	|  697 	| 80.6% 	| 63.7% 	| 71.2% 	|
|      effect     	| 1002 	| 209 	|  448 	|  1211 	| 1450 	| 82.7% 	| 69.1% 	| 75.3% 	|
|       int       	|  190 	|  23 	|  41  	|  213  	|  231 	| 89.2% 	| 82.3% 	| 85.6% 	|
|    mechanism    	|  662 	| 162 	|  358 	|  824  	| 1020 	| 80.3% 	| 64.9% 	| 71.8% 	|
|        -        	|   -  	|  -  	|   -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      M.avg      	|   -  	|  -  	|   -  	|   -   	|   -  	| 83.2% 	| 70.0% 	| 76.0% 	|
|        -        	|   -  	|  -  	|   -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      m.avg      	| 2298 	| 501 	| 1100 	|  2799 	| 3398 	| 82.1% 	| 67.6% 	| 74.2% 	|
| m.avg(no class) 	| 2471 	| 328 	|  927 	|  2799 	| 3398 	| 88.3% 	| 72.7% 	| 79.7% 	|

|      DEVEL      	|  tp 	|  fp 	|  fn 	| #pred 	| #exp 	|   P   	|   R   	|   F1  	|
|:---------------:	|:---:	|:---:	|:---:	|:-----:	|:----:	|:-----:	|:-----:	|:-----:	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      advise     	|  46 	|  66 	|  92 	|  112  	|  138 	| 41.1% 	| 33.3% 	| 36.8% 	|
|      effect     	| 109 	|  97 	| 206 	|  206  	|  315 	| 52.9% 	| 34.6% 	| 41.8% 	|
|       int       	|  16 	|  4  	|  19 	|   20  	|  35  	| 80.0% 	| 45.7% 	| 58.2% 	|
|    mechanism    	|  83 	| 111 	| 181 	|  194  	|  264 	| 42.8% 	| 31.4% 	| 36.2% 	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      M.avg      	|  -  	|  -  	|  -  	|   -   	|   -  	| 54.2% 	| 36.3% 	| 43.3% 	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      m.avg      	| 254 	| 278 	| 498 	|  532  	|  752 	| 47.7% 	| 33.8% 	| 39.6% 	|
| m.avg(no class) 	| 339 	| 193 	| 413 	|  532  	|  752 	| 63.7% 	| 45.1% 	| 52.8% 	|

|       TEST      	|  tp 	|  fp 	|  fn 	| #pred 	| #exp 	|   P   	|   R   	|   F1  	|
|:---------------:	|:---:	|:---:	|:---:	|:-----:	|:----:	|:-----:	|:-----:	|:-----:	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      advise     	|  61 	|  39 	| 151 	|  100  	|  212 	| 61.0% 	| 28.8% 	| 39.1% 	|
|      effect     	| 113 	|  98 	| 170 	|  211  	|  283 	| 53.6% 	| 39.9% 	| 45.7% 	|
|       int       	|  2  	|  2  	|  16 	|   4   	|  18  	| 50.0% 	| 11.1% 	| 18.2% 	|
|    mechanism    	| 116 	| 111 	| 221 	|  227  	|  337 	| 51.1% 	| 34.4% 	| 41.1% 	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      M.avg      	|  -  	|  -  	|  -  	|   -   	|   -  	| 53.9% 	| 28.6% 	| 36.0% 	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      m.avg      	| 292 	| 250 	| 558 	|  542  	|  850 	| 53.9% 	| 34.4% 	| 42.0% 	|
| m.avg(no class) 	| 358 	| 184 	| 492 	|  542  	|  850 	| 66.1% 	| 42.1% 	| 51.4% 	|



[10/05] : Best results obtained with information added of between entities, and verbs between.
  - Obtained using MEGAM file and this parameters: -quiet  -nc -maxi 125 -repeat 5 -lambda 1  -nobias -minfc 3  multiclass 

|     TRAINING    	|  tp  	|  fp 	|  fn  	| #pred 	| #exp 	|   P   	|   R   	|   F1  	|
|:---------------:	|:----:	|:---:	|:----:	|:-----:	|:----:	|:-----:	|:-----:	|:-----:	|
|        -        	|   -  	|  -  	|   -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      advise     	|  451 	| 106 	|  246 	|  557  	|  697 	| 81.0% 	| 64.7% 	| 71.9% 	|
|      effect     	| 1008 	| 193 	|  442 	|  1201 	| 1450 	| 83.9% 	| 69.5% 	| 76.0% 	|
|       int       	|  188 	|  16 	|  43  	|  204  	|  231 	| 92.2% 	| 81.4% 	| 86.4% 	|
|    mechanism    	|  643 	| 126 	|  377 	|  769  	| 1020 	| 83.6% 	| 63.0% 	| 71.9% 	|
|        -        	|   -  	|  -  	|   -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      M.avg      	|   -  	|  -  	|   -  	|   -   	|   -  	| 85.2% 	| 69.7% 	| 76.6% 	|
|        -        	|   -  	|  -  	|   -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      m.avg      	| 2290 	| 441 	| 1108 	|  2731 	| 3398 	| 83.9% 	| 67.4% 	| 74.7% 	|
| m.avg(no class) 	| 2450 	| 281 	|  948 	|  2731 	| 3398 	| 89.7% 	| 72.1% 	| 79.9% 	|


|      DEVEL      	|  tp 	|  fp 	|  fn 	| #pred 	| #exp 	|   P   	|   R   	|   F1  	|
|:---------------:	|:---:	|:---:	|:---:	|:-----:	|:----:	|:-----:	|:-----:	|:-----:	|
|                 	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      advise     	|  48 	|  52 	|  90 	|  100  	|  138 	| 48.0% 	| 34.8% 	| 40.3% 	|
|      effect     	| 104 	| 105 	| 211 	|  209  	|  315 	| 49.8% 	| 33.0% 	| 39.7% 	|
|       int       	|  16 	|  2  	|  19 	|   18  	|  35  	| 88.9% 	| 45.7% 	| 60.4% 	|
|    mechanism    	|  64 	|  83 	| 200 	|  147  	|  264 	| 43.5% 	| 24.2% 	| 31.1% 	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      M.avg      	|  -  	|  -  	|  -  	|   -   	|   -  	| 57.5% 	| 34.4% 	| 42.9% 	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      m.avg      	| 232 	| 242 	| 520 	|  474  	|  752 	| 48.9% 	| 30.9% 	| 37.8% 	|
| m.avg(no class) 	| 311 	| 163 	| 441 	|  474  	|  752 	| 65.6% 	| 41.4% 	| 50.7% 	|

|       TEST      	|  tp 	|  fp 	|  fn 	| #pred 	| #exp 	|   P   	|   R   	|   F1  	|
|:---------------:	|:---:	|:---:	|:---:	|:-----:	|:----:	|:-----:	|:-----:	|:-----:	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      advise     	|  65 	|  46 	| 147 	|  111  	|  212 	| 58.6% 	| 30.7% 	| 40.2% 	|
|      effect     	| 115 	| 104 	| 168 	|  219  	|  283 	| 52.5% 	| 40.6% 	| 45.8% 	|
|       int       	|  2  	|  2  	|  16 	|   4   	|  18  	| 50.0% 	| 11.1% 	| 18.2% 	|
|    mechanism    	| 106 	|  93 	| 231 	|  199  	|  337 	| 53.3% 	| 31.5% 	| 39.6% 	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      M.avg      	|  -  	|  -  	|  -  	|   -   	|   -  	| 53.6% 	| 28.5% 	| 35.9% 	|
|        -        	|  -  	|  -  	|  -  	|   -   	|   -  	|   -   	|   -   	|   -   	|
|      m.avg      	| 288 	| 245 	| 562 	|  533  	|  850 	| 54.0% 	| 33.9% 	| 41.6% 	|
| m.avg(no class) 	| 356 	| 177 	| 494 	|  533  	|  850 	| 66.8% 	| 41.9% 	| 51.5% 	|


SCHEMA
In this session we are providing DDI results by the analysis and training with Machine Learning Models
  - Feature Extractor Def is a python Script which allows to extract all the features from the annotated pairs in the .xml files from the DDI dataset.
  - Trainer.py is a file which, given a structured organization that will be mentioned afterwards, train, predicts and evaluate a big number of hyperparameters to allow the optimization of the features.
      - Structure:
        -Trainer.py
        -outputs/
          - Automatically we create a directory for each Model trained, with the model weights, the predictions over the features files and the evaluation of them.
        -features/
          - train_features.txt
          - devel_features.txt
          - test_features.txt
        - models/megam_i686.opt --> file which has the model.opt extracted from [MEGAM](http://users.umiacs.umd.edu/~hal/megam/version0_91/)
